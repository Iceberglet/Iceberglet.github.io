{"version":3,"sources":["../src/tab-panel-base.js"],"names":["TabPanelBase","createClass","propTypes","items","PropTypes","array","isRequired","getInitialState","props","selected","id","onSelectTab","setState","onAddTab","tab","s","push","onRemoveTab","deleted","findIndex","item","splice","length","onFinishDrag","render","state","find","title"],"mappings":";;;;;;;AAAA;;;;AACA;;AACA;;;;AAEO,IAAMA,sCAAe,gBAAMC,WAAN,CAAkB;AAAA;;;AAE5CC,aAAW;AACTC,WAAO,gBAAMC,SAAN,CAAgBC,KAAhB,CAAsBC;AADpB,GAFiC;;AAM5CC,iBAN4C,6BAM3B;AACf,QAAIJ,QAAQ,KAAKK,KAAL,CAAWL,KAAvB;AACA,WAAO;AACLA,kBADK,EACEM,UAAUN,MAAM,CAAN,EAASO;AADrB,KAAP;AAGD,GAX2C;AAa5CC,aAb4C,uBAahCD,EAbgC,EAa7B;AACb,SAAKE,QAAL,CAAc,EAACH,UAAUC,EAAX,EAAd;AACD,GAf2C;AAiB5CG,UAjB4C,sBAiBlC;AACR,SAAKD,QAAL,CAAc,aAAG;AACf,UAAIE,MAAM,aAAQ,SAAR,CAAV;AACAC,QAAEZ,KAAF,CAAQa,IAAR,CAAaF,GAAb;AACAC,QAAEN,QAAF,GAAaK,IAAIJ,EAAjB;AACA,aAAOK,CAAP;AACD,KALD;AAMD,GAxB2C;AA0B5CE,aA1B4C,uBA0BhCP,EA1BgC,EA0B7B;AACb,SAAKE,QAAL,CAAc,aAAG;AACf,UAAIM,UAAUH,EAAEZ,KAAF,CAAQgB,SAAR,CAAkB;AAAA,eAAMC,KAAKV,EAAL,KAAYA,EAAlB;AAAA,OAAlB,CAAd;AACAK,QAAEZ,KAAF,CAAQkB,MAAR,CAAeH,OAAf,EAAwB,CAAxB;AACA,UAAGR,OAAOK,EAAEN,QAAZ,EAAqB;AACnB,YAAGM,EAAEZ,KAAF,CAAQmB,MAAR,GAAiB,CAApB,EACEP,EAAEN,QAAF,GAAaM,EAAEZ,KAAF,CAAQY,EAAEZ,KAAF,CAAQmB,MAAR,GAAiB,CAAzB,EAA4BZ,EAAzC;AACH;AACD,aAAOK,CAAP;AACD,KARD;AASD,GApC2C;AAsC5CQ,cAtC4C,wBAsC/BpB,KAtC+B,EAsCzB;AACjB,SAAKS,QAAL,CAAc;AACZT;AADY,KAAd;AAGD,GA1C2C;AA4C5CqB,QA5C4C,oBA4CpC;AAAA;;AACN,QAAIJ,OAAO,KAAKK,KAAL,CAAWtB,KAAX,CAAiBuB,IAAjB,CAAsB;AAAA,aAAMN,KAAKV,EAAL,KAAY,MAAKe,KAAL,CAAWhB,QAA7B;AAAA,KAAtB,KAAgE,EAA3E;AACA,WAAQ;AAAA;AAAA;AACJ,kEAAc,aAAe,KAAKE,WAAlC;AACe,kBAAY,KAAKE,QADhC;AAEe,qBAAe,KAAKI,WAFnC;AAGe,sBAAgB,KAAKM,YAHpC;AAIe,kBAAY,KAAKE,KAAL,CAAWhB,QAJtC;AAKe,eAAS,KAAKgB,KAAL,CAAWtB;AALnC,QADI;AAQJ;AAAA;AAAA;AAAM,+BAAuBiB,KAAKO;AAAlC;AARI,KAAR;AAUD;AAxD2C,CAAlB,CAArB","file":"tab-panel-base.js","sourcesContent":["import React from 'react'\r\nimport { Tab } from './tab';\r\nimport { TabPanelCore } from './tab-panel-core'\r\n\r\nexport const TabPanelBase = React.createClass({\r\n\r\n  propTypes: {\r\n    items: React.PropTypes.array.isRequired\r\n  },\r\n\r\n  getInitialState(){\r\n    let items = this.props.items\r\n    return {\r\n      items, selected: items[0].id\r\n    }\r\n  },\r\n\r\n  onSelectTab(id){\r\n    this.setState({selected: id})\r\n  },\r\n\r\n  onAddTab(){\r\n    this.setState(s=>{\r\n      let tab = new Tab('New Tab')\r\n      s.items.push(tab);\r\n      s.selected = tab.id\r\n      return s;\r\n    })\r\n  },\r\n\r\n  onRemoveTab(id){\r\n    this.setState(s=>{\r\n      let deleted = s.items.findIndex(item=>item.id === id)\r\n      s.items.splice(deleted, 1)\r\n      if(id === s.selected){\r\n        if(s.items.length > 0)\r\n          s.selected = s.items[s.items.length - 1].id\r\n      }\r\n      return s;\r\n    })\r\n  },\r\n\r\n  onFinishDrag(items){\r\n    this.setState({\r\n      items\r\n    })\r\n  },\r\n\r\n  render(){\r\n    let item = this.state.items.find(item=>item.id === this.state.selected) || {};\r\n    return (<div>\r\n        <TabPanelCore onSelectTab = {this.onSelectTab}\r\n                       onAddTab = {this.onAddTab}\r\n                       onRemoveTab = {this.onRemoveTab}\r\n                       onFinishDrag = {this.onFinishDrag}\r\n                       selected = {this.state.selected}\r\n                       items = {this.state.items}\r\n          />\r\n        <div>{'You Just Selected ' + item.title}</div>\r\n      </div>)\r\n  }\r\n})\r\n"]}