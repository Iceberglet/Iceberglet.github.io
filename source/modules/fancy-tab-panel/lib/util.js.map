{"version":3,"sources":["../src/util.js"],"names":["postpone","func","graceTime","timer","clearTimeout","setTimeout","arrayToMap","arr","keyProvider","res","Array","Error","forEach","item","idGenerator","counter"],"mappings":";;;;;AACO,IAAMA,8BAAW,SAAXA,QAAW,CAACC,IAAD,EAAwB;AAAA,MAAjBC,SAAiB,uEAAP,IAAO;;AAC9C,MAAIC,cAAJ;AACA,SAAO,YAAI;AACT,QAAGA,KAAH,EAAS;AACPC,mBAAaD,KAAb;AACD;AACD,QAAIA,QAAQE,WAAW;AAAA,aAAIJ,MAAJ;AAAA,KAAX,EAAuBC,SAAvB,CAAZ;AACD,GALD;AAMD,CARM;;AAUA,IAAMI,kCAAa,SAAbA,UAAa,CAACC,GAAD,EAAMC,WAAN,EAAsB;AAC9C,MAAIC,MAAM,EAAV;AACA,MAAG,CAACF,GAAD,IAAQ,EAAEA,eAAeG,KAAjB,CAAX,EAAmC;AACjC,UAAM,IAAIC,KAAJ,CAAU,sBAAV,EAAkCJ,GAAlC,CAAN;AACD;AACD,MAAG,CAACC,WAAD,IAAgB,EAAE,OAAOA,WAAP,KAAuB,UAAzB,CAAnB,EAAwD;AACtD,UAAM,IAAIG,KAAJ,CAAU,yBAAV,EAAqCH,WAArC,CAAN;AACD;AACDD,MAAIK,OAAJ,CAAY;AAAA,WAAMH,IAAID,YAAYK,IAAZ,CAAJ,IAAyBA,IAA/B;AAAA,GAAZ;AACA,SAAOJ,GAAP;AACD,CAVM;;AAYA,IAAMK,oCAAc,SAAdA,WAAc,GAAU;AACnC,MAAIC,UAAU,CAAd;AACA,SAAO,YAAU;AACfA;AACA,WAAOA,OAAP;AACD,GAHD;AAID,CANM","file":"util.js","sourcesContent":["//NOTE: func should be parameter-less.\r\nexport const postpone = (func, graceTime=1000)=>{\r\n  let timer;\r\n  return ()=>{\r\n    if(timer){\r\n      clearTimeout(timer)\r\n    }\r\n    let timer = setTimeout(()=>func(), graceTime)\r\n  }\r\n}\r\n\r\nexport const arrayToMap = (arr, keyProvider) => {\r\n  let res = {}\r\n  if(!arr || !(arr instanceof Array)){\r\n    throw new Error('Received non array: ', arr)\r\n  }\r\n  if(!keyProvider || !(typeof keyProvider === 'function')){\r\n    throw new Error('Received non function: ', keyProvider)\r\n  }\r\n  arr.forEach(item=>res[keyProvider(item)] = item)\r\n  return res;\r\n}\r\n\r\nexport const idGenerator = function(){\r\n  let counter = 0;\r\n  return function(){\r\n    counter++;\r\n    return counter;\r\n  }\r\n}\r\n"]}